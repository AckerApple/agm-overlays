{"version":3,"sources":["./example/src/$_lazy_route_resource lazy","./example/src/app.component.ts","./example/src/app.module.ts","./example/src/app.template.ts","./example/src/index.ts","./package.json","./src/AgmOverlay.component.ts","./src/AgmOverlays.module.ts","./src/index.ts"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./example/src/$$_lazy_route_resource lazy recursive\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./example/src/$$_lazy_route_resource lazy\n// module id = ./example/src/$$_lazy_route_resource lazy recursive\n// module chunks = main","import { Component } from \"@angular/core\"\nimport { template } from \"./app.template\"\nimport * as packJson from \"../../package.json\"\n\nexport interface latLng{\n  latitude  : number\n  longitude : number\n}\n\n@Component({\n  selector:\"app\",\n  template:template\n}) export class AppComponent{\n  view:\"data\"\n  version:string = packJson['version']\n  latLngArray:latLng[] = [\n    {latitude:26.368755, longitude:-80.137413},\n    {latitude:26.368351, longitude:-80.128873},\n    {latitude:26.368092, longitude:-80.125011}\n  ]\n\n  setLatLngArrayString( string:string ){\n    const json = JSON.parse(string)\n    this.latLngArray = json\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./example/src/app.component.ts","import { NgModule } from \"@angular/core\"\nimport { BrowserModule } from '@angular/platform-browser'\nimport { AgmCoreModule } from \"@agm/core\"\nimport { AgmOverlays } from \"../../src\"\nimport { AppComponent } from \"./app.component\"\n\n@NgModule({\n  imports:[\n    BrowserModule,\n    AgmOverlays,\n    AgmCoreModule.forRoot({\n      apiKey: 'AIzaSyD2Z0LzbjZXiqRAsVYTl4OP7cK7hdgR89U'\n    })\n  ],\n  bootstrap: [ AppComponent ],\n  declarations: [ AppComponent ]\n}) export class AppModule{}\n\n\n// WEBPACK FOOTER //\n// ./example/src/app.module.ts","export const template =\n`\n<table cellPadding=\"0\" cellSpacing=\"0\" border=\"0\" style=\"width:100%;height:100%\">\n  <tr>\n    <td>\n      <div style=\"float:right;font-size:.8em;\">v{{version}}</div>\n      <h2 style=\"margin:0;\">ðŸ’¥ agm-overlay</h2>\n      <div style=\"text-align:center;font-size:.8em;\">\n        <a href=\"https://github.com/AckerApple/agm-overlays/blob/master/example/src/app.component.ts\">view component</a>\n        &nbsp;\n        <a href=\"https://github.com/AckerApple/agm-overlays/blob/master/example/src/app.template.ts\">view template</a>\n        &nbsp;\n        <a href=\"javascript:\" (click)=\"view=view==='data'?null:'data'\">{{!view?'play':'done'}} with data <sup>({{latLngArray.length}})</sup></a>\n      </div>\n    </td>\n  </tr>\n  <tr *ngIf=\"!view\">\n    <td style=\"height:100%\">\n      <agm-map\n        [zoom] = \"18\"\n        style  = \"height:100%;width:100%;display:block;\"\n        [latitude]  = \"latLngArray.length ? latLngArray[0].latitude : null\"\n        [longitude] = \"latLngArray.length ? latLngArray[0].longitude : null\"\n      >\n        <agm-overlay\n          *ngFor      = \"let item of latLngArray;let i=index\"\n          [latitude]  = \"item.latitude\"\n          [longitude] = \"item.longitude\"\n        >\n          <!-- blue html square -->\n          <div style=\"justify-content:center;align-items:center;display:flex;width:50px;height:50px;background-color:blue;\">\n            <strong style=\"color:white;\">{{i}}</strong>\n          </div>\n        </agm-overlay>\n      </agm-map>\n    </td>\n  </tr>\n  <tr *ngIf=\"view==='data'\">\n    <td style=\"height:100%\">\n      <textarea (change)=\"setLatLngArrayString($event.target.value)\" style=\"width:100%;height:100%\" wrap=\"on\">{{ latLngArray | json }}</textArea>\n    </td>\n  </tr>\n</table>\n`\n\n\n// WEBPACK FOOTER //\n// ./example/src/app.template.ts","import \"zone.js\"\nimport \"reflect-metadata\"\nimport { platformBrowserDynamic } from \"@angular/platform-browser-dynamic\"\nimport { enableProdMode } from \"@angular/core\"\n\nimport { AppModule } from \"./app.module\"\n\nenableProdMode()\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n\n\n// WEBPACK FOOTER //\n// ./example/src/index.ts","module.exports = {\"name\":\"agm-overlays\",\"version\":\"1.0.4\",\"description\":\"Custom marker overlay for the @agm/core package\",\"main\":\"dist/index\",\"scripts\":{\"build\":\"npm-run-all build:dist compile:dist:package build:js\",\"build:dist\":\"ngc --declaration --project src\",\"test\":\"echo \\\"Error: no test specified\\\" && exit 1\",\"compile:dist:package\":\"node scripts/update-dist-package.js\",\"start\":\"npm run watch\",\"watch\":\"ng serve --port 4202 --output-hashing=none --sourcemaps=true --app=example --open\",\"build:js\":\"ng build --output-hashing=none --sourcemaps=true --app=example\"},\"repository\":{\"type\":\"git\",\"url\":\"git+https://github.com/ackerapple/agm-overlays.git\"},\"keywords\":[\"agm\",\"overlay\",\"custom\",\"markers\",\"google\",\"maps\"],\"author\":\"Acker Apple\",\"license\":\"MIT\",\"bugs\":{\"url\":\"https://github.com/ackerapple/agm-overlays/issues\"},\"homepage\":\"https://github.com/ackerapple/agm-overlays#readme\",\"devDependencies\":{\"@agm/core\":\"^1.0.0-beta.2\",\"@angular/cli\":\"^1.7.4\",\"@angular/common\":\"^5.2.10\",\"@angular/compiler\":\"^5.2.10\",\"@angular/compiler-cli\":\"^5.2.10\",\"@angular/core\":\"^5.2.10\",\"@angular/platform-browser\":\"^5.2.10\",\"@angular/platform-browser-dynamic\":\"^5.2.10\",\"npm-run-all\":\"^4.1.2\",\"reflect-metadata\":\"^0.1.12\",\"rxjs\":\"^5.5.10\",\"typescript\":\"^2.4.2\",\"zone.js\":\"^0.8.26\"}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./package.json\n// module id = ./package.json\n// module chunks = main","import { Subscription } from \"rxjs\"\nimport {\n  Input, Component, Optional,\n  TemplateRef, ViewChild, ElementRef\n} from \"@angular/core\"\n\nimport {\n  LatLngBounds, LatLng,\n  GoogleMapsAPIWrapper\n} from \"@agm/core\"\n\nimport { GoogleMap } from \"@agm/core/services/google-maps-types\"\ndeclare var google: any\n\n@Component({\n  selector:\"agm-overlay\",\n  template:'<div #content><div style=\"position:absolute\"><ng-content></ng-content></div></div>'\n}) export class AgmOverlay{\n  overlayView:any\n  @Input() latitude:number\n  @Input() longitude:number\n\n  @ViewChild('content', { read: ElementRef }) template: ElementRef\n\n  constructor(protected _mapsWrapper:GoogleMapsAPIWrapper){}\n\n  ngOnChanges( changes ){\n    if( (changes.latitude || changes.longitude) && this.overlayView ){\n      this.destroy()\n      this.load()\n    }\n  }\n\n  ngOnDestroy(){\n    this.destroy()\n  }\n\n  destroy(){\n    this.overlayView.setMap(null)\n    delete this.overlayView\n  }\n\n  ngAfterViewInit(){\n    this.load()\n  }\n\n  load(){\n    this._mapsWrapper.getNativeMap()\n    .then(map=>{\n      // appends to map as overlays (markers)\n      this.drawOnMap( map )\n\n      const latlng = new google.maps.LatLng(this.latitude, this.longitude)\n\n      // configures the bounds of the map to fit the markers\n      this.addBounds( latlng, map )\n    })\n  }\n\n  promiseBounds():Promise<LatLngBounds>{\n    return this._mapsWrapper.getNativeMap()\n    .then(map=>{\n      let bounds = map.getBounds() || map['bounds']\n      if( !bounds ){\n        bounds = new google.maps.LatLngBounds()\n        map['bounds'] = bounds\n      }\n      return bounds\n    })\n  }\n\n  addBounds( latlng:LatLng, map:GoogleMap ){\n    this.promiseBounds()\n    .then(bounds=>{\n      const zero = bounds.isEmpty()\n      bounds.extend( latlng )\n      if( !zero ){\n        this._mapsWrapper.fitBounds( bounds )//center map on all overlays\n      }\n    })\n  }\n\n  drawOnMap( map:GoogleMap ){\n    this.overlayView = this.overlayView || new google.maps.OverlayView()\n    const latlng = new google.maps.LatLng(this.latitude,this.longitude)\n    const elm = this.template.nativeElement.children[0]\n\n    this.overlayView.remove = function(){\n        this.div.parentNode.removeChild(this.div);\n        delete this.div\n    }\n\n    this.overlayView.draw = function(){\n      if ( !this.div ) {\n        this.div = elm\n        this.getPanes().overlayImage.appendChild( elm )\n      }\n\n      const point = this.getProjection().fromLatLngToDivPixel( latlng )\n\n      if (point) {\n        elm.style.left = (point.x - 10) + 'px'\n        elm.style.top = (point.y - 20) + 'px'\n      }\n    }\n    \n    this.overlayView.setMap( map )//igniter to append to element\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/AgmOverlay.component.ts","import { NgModule } from \"@angular/core\"\nimport { CommonModule } from \"@angular/common\"\nimport { AgmOverlay } from \"./AgmOverlay.component\"\n\n@NgModule({\n  imports:[\n    CommonModule\n  ],\n  declarations: [ AgmOverlay ],\n  exports : [ AgmOverlay ],\n}) export class AgmOverlays {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/AgmOverlays.module.ts","export * from \"./AgmOverlay.component\"\nexport * from \"./AgmOverlays.module\"\n\n\n// WEBPACK FOOTER //\n// ./src/index.ts"],"sourceRoot":"webpack:///"}